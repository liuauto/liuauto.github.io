<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>l1_logreg: src_c/l1_logreg.c File Reference</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>src_c/l1_logreg.c File Reference</h1>Main source file for l_1-regularized logistic regression problem solver. <a href="#_details">More...</a>
<p>
<code>#include &lt;time.h&gt;</code><br>
<code>#include &lt;math.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;float.h&gt;</code><br>
<code>#include &quot;<a class="el" href="def_8h-source.html">def.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="pcg_8h-source.html">pcg.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="util_8h-source.html">util.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="dmatrix_8h-source.html">dmatrix.h</a>&quot;</code><br>
<code>#include &quot;l1_logreg.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>problem_data_t</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>variables_t</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>adata_t</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><b>mdata_t</b></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fc54e7bc1538d91d383984f8e37809f6"></a><!-- doxytag: member="l1_logreg.c::INTERNAL_PLOT" ref="fc54e7bc1538d91d383984f8e37809f6" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>INTERNAL_PLOT</b>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="09bc9e6a44f0291cfcf578f2efcddfab"></a><!-- doxytag: member="l1_logreg.c::MU" ref="09bc9e6a44f0291cfcf578f2efcddfab" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MU</b>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="932f3a9670ad941fc2d885a2843643b6"></a><!-- doxytag: member="l1_logreg.c::MAX_NT_ITER" ref="932f3a9670ad941fc2d885a2843643b6" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_NT_ITER</b>&nbsp;&nbsp;&nbsp;400</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8f6c1135146b9a525074deb38d237877"></a><!-- doxytag: member="l1_logreg.c::ABSTOL" ref="8f6c1135146b9a525074deb38d237877" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ABSTOL</b>&nbsp;&nbsp;&nbsp;1e-8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d778763badfa28b8a2c216509d82eac9"></a><!-- doxytag: member="l1_logreg.c::ZABSTOL" ref="d778763badfa28b8a2c216509d82eac9" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ZABSTOL</b>&nbsp;&nbsp;&nbsp;1e-12</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4135761876e22e413fb432aeb6e42bf4"></a><!-- doxytag: member="l1_logreg.c::MAX_NT_ITERZ" ref="4135761876e22e413fb432aeb6e42bf4" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_NT_ITERZ</b>&nbsp;&nbsp;&nbsp;10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bc61a8dd0820ad05bbfa2a6e6a582f04"></a><!-- doxytag: member="l1_logreg.c::MAX_LS_ITERZ" ref="bc61a8dd0820ad05bbfa2a6e6a582f04" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_LS_ITERZ</b>&nbsp;&nbsp;&nbsp;10</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f5abd28c44c29b7397c84f1fec4b1d84"></a><!-- doxytag: member="l1_logreg.c::ALPHA" ref="f5abd28c44c29b7397c84f1fec4b1d84" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>ALPHA</b>&nbsp;&nbsp;&nbsp;0.01</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1b996515309fc3c03449912bb33046e3"></a><!-- doxytag: member="l1_logreg.c::BETA" ref="1b996515309fc3c03449912bb33046e3" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>BETA</b>&nbsp;&nbsp;&nbsp;0.5</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0fbda62dd253e6d9ef5c7bd00017463c"></a><!-- doxytag: member="l1_logreg.c::MAX_LS_ITER" ref="0fbda62dd253e6d9ef5c7bd00017463c" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_LS_ITER</b>&nbsp;&nbsp;&nbsp;100</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="aa01ad0a186f6620b63a0f113ca648d8"></a><!-- doxytag: member="l1_logreg.c::MAX_PCG_ITER" ref="aa01ad0a186f6620b63a0f113ca648d8" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>MAX_PCG_ITER</b>&nbsp;&nbsp;&nbsp;5000</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b71c85733359f41396cc555f36cb6bcf"></a><!-- doxytag: member="l1_logreg.c::PRINT_BUF_SIZE" ref="b71c85733359f41396cc555f36cb6bcf" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>PRINT_BUF_SIZE</b>&nbsp;&nbsp;&nbsp;256</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="092e75867288d1f3af3d1eda00c2dc2b"></a><!-- doxytag: member="l1_logreg.c::LOG_INF" ref="092e75867288d1f3af3d1eda00c2dc2b" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>LOG_INF</b>&nbsp;&nbsp;&nbsp;700</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="50de903e63fcafa4661ed9404b7bd799"></a><!-- doxytag: member="l1_logreg.c::p2func_progress" ref="50de903e63fcafa4661ed9404b7bd799" args=")(char *, int, double, double, double, double, double, int, double, int)" -->
typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><b>p2func_progress</b> )(char *, int, double, double, double, double, double, int, double, int)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8676af7bfc6cbb247170efae99f7dcd0"></a><!-- doxytag: member="l1_logreg.c::set_problem_data" ref="8676af7bfc6cbb247170efae99f7dcd0" args="(problem_data_t *pdat, dmatrix *matX1, dmatrix *matX2, double *ac, double *ar, double *b, double lambda, double *avg_x, double *std_x)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>set_problem_data</b> (problem_data_t *pdat, <a class="el" href="structdmatrix.html">dmatrix</a> *matX1, <a class="el" href="structdmatrix.html">dmatrix</a> *matX2, double *ac, double *ar, double *b, double lambda, double *avg_x, double *std_x)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9377decf152945ddd24ef75c833c0653"></a><!-- doxytag: member="l1_logreg.c::get_problem_data" ref="9377decf152945ddd24ef75c833c0653" args="(problem_data_t *pdat, dmatrix **matX1, dmatrix **matX2, double **ac, double **ar, double **b, double *lambda)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>get_problem_data</b> (problem_data_t *pdat, <a class="el" href="structdmatrix.html">dmatrix</a> **matX1, <a class="el" href="structdmatrix.html">dmatrix</a> **matX2, double **ac, double **ar, double **b, double *lambda)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="19207d1ba5d5f1395b198b6abc1e8748"></a><!-- doxytag: member="l1_logreg.c::free_problem_data" ref="19207d1ba5d5f1395b198b6abc1e8748" args="(problem_data_t *pdat)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>free_problem_data</b> (problem_data_t *pdat)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7665329a2049a4612740201899455d9c"></a><!-- doxytag: member="l1_logreg.c::create_variables" ref="7665329a2049a4612740201899455d9c" args="(variables_t *vars, int m, int n)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>create_variables</b> (variables_t *vars, int m, int n)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a43d26064a8b377f6ff067899bb833cb"></a><!-- doxytag: member="l1_logreg.c::free_variables" ref="a43d26064a8b377f6ff067899bb833cb" args="(variables_t *vars)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>free_variables</b> (variables_t *vars)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="77585a9c4250c84389225ac1a10af980"></a><!-- doxytag: member="l1_logreg.c::get_variables" ref="77585a9c4250c84389225ac1a10af980" args="(variables_t *vars, double **x, double **v, double **w, double **u, double **dx, double **dv, double **dw, double **du, double **gx, double **gv, double **gw, double **gu, double **g, double **h, double **z, double **expz, double **expmz, double **d1, double **d2, double **Aw)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>get_variables</b> (variables_t *vars, double **x, double **v, double **w, double **u, double **dx, double **dv, double **dw, double **du, double **gx, double **gv, double **gw, double **gu, double **g, double **h, double **z, double **expz, double **expmz, double **d1, double **d2, double **Aw)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bec6509d8fb165cac7713ed13ecd6fbd"></a><!-- doxytag: member="l1_logreg.c::allocate_temporaries" ref="bec6509d8fb165cac7713ed13ecd6fbd" args="(int m, int n, int is_pcg, double **tm1, double **tn1, double **tn2, double **tn3, double **tn4, double **tx1, double **precond, dmatrix **B, dmatrix **BB)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>allocate_temporaries</b> (int m, int n, int is_pcg, double **tm1, double **tn1, double **tn2, double **tn3, double **tn4, double **tx1, double **precond, <a class="el" href="structdmatrix.html">dmatrix</a> **B, <a class="el" href="structdmatrix.html">dmatrix</a> **BB)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1b68398decc70ccc76684107b83c1650"></a><!-- doxytag: member="l1_logreg.c::free_temporaries" ref="1b68398decc70ccc76684107b83c1650" args="(double *tm1, double *tn1, double *tn2, double *tn3, double *tn4, double *tx1, double *precond, dmatrix *B, dmatrix *BB)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>free_temporaries</b> (double *tm1, double *tn1, double *tn2, double *tn3, double *tn4, double *tx1, double *precond, <a class="el" href="structdmatrix.html">dmatrix</a> *B, <a class="el" href="structdmatrix.html">dmatrix</a> *BB)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="079744d7305530cddf2771fb350bf155"></a><!-- doxytag: member="l1_logreg.c::set_adata" ref="079744d7305530cddf2771fb350bf155" args="(adata_t *ad, dmatrix *dmat, double *ac, double *ar, double *b, double *h, double *d1, double *d2)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>set_adata</b> (adata_t *ad, <a class="el" href="structdmatrix.html">dmatrix</a> *dmat, double *ac, double *ar, double *b, double *h, double *d1, double *d2)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="781b49599d4d3a19e5ff09bee838a653"></a><!-- doxytag: member="l1_logreg.c::set_mdata" ref="781b49599d4d3a19e5ff09bee838a653" args="(mdata_t *md, int m, int n, double *precond)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>set_mdata</b> (mdata_t *md, int m, int n, double *precond)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="eec164683fdcd7911d4ebfad2aabd60d"></a><!-- doxytag: member="l1_logreg.c::logistic_loss" ref="eec164683fdcd7911d4ebfad2aabd60d" args="(const int n, const double *z)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="l1__logreg_8c.html#eec164683fdcd7911d4ebfad2aabd60d">logistic_loss</a> (const int n, const double *z)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the logistic loss of vector z, i.e., <img class="formulaInl" alt="$ \sum_{i=1}^n \log(1 + \exp(-z_i)). $" src="form_68.png">. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6a0f7061bc49ca6369c7a6f3167496a9"></a><!-- doxytag: member="l1_logreg.c::logistic_loss2" ref="6a0f7061bc49ca6369c7a6f3167496a9" args="(const int n, const double *z, const double *expz, const double *expmz)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="l1__logreg_8c.html#6a0f7061bc49ca6369c7a6f3167496a9">logistic_loss2</a> (const int n, const double *z, const double *expz, const double *expmz)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the logistic loss using precomputed exp(z), exp(-z), i.e., <img class="formulaInl" alt="$ \sum_{i=1}^n \log(1 + \exp(-z_i)). $" src="form_68.png">. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ce0148f59e183d5b4d4beb3479e952ba"></a><!-- doxytag: member="l1_logreg.c::nentropy" ref="ce0148f59e183d5b4d4beb3479e952ba" args="(const int n, const double *z)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="l1__logreg_8c.html#ce0148f59e183d5b4d4beb3479e952ba">nentropy</a> (const int n, const double *z)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the sum of negative entropy of an n-vector z times n, i.e., <img class="formulaInl" alt="$ -\sum_{i=1}^n nz_i\log(nz_i)+(1-nz_i)log(1-nz_i). $" src="form_69.png">. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e5d6046097c7164e8b6e3e8bada22801"></a><!-- doxytag: member="l1_logreg.c::fprimes" ref="e5d6046097c7164e8b6e3e8bada22801" args="(const int n, const double *expz, const double *expmz, double *f1prime, double *f2prime)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="l1__logreg_8c.html#e5d6046097c7164e8b6e3e8bada22801">fprimes</a> (const int n, const double *expz, const double *expmz, double *f1prime, double *f2prime)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the derivatives of the logistic loss. <img class="formulaInl" alt="$ f' = -1/(1+\exp(+z)) $" src="form_70.png">, <img class="formulaInl" alt="$ f'' = -1/(2+\exp(-z)+\exp(+z)) $" src="form_71.png">. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4406aba03c456215e7db516ba14600c5"></a><!-- doxytag: member="l1_logreg.c::gradient_hessian_over_v" ref="4406aba03c456215e7db516ba14600c5" args="(const int n, const double *expz, const double *expmz, const double *b, double *gradient, double *hessian)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="l1__logreg_8c.html#4406aba03c456215e7db516ba14600c5">gradient_hessian_over_v</a> (const int n, const double *expz, const double *expmz, const double *b, double *gradient, double *hessian)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes the derivatives of the logistic loss over v. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d45c6f0daadfc640814fdecadd4eda50"></a><!-- doxytag: member="l1_logreg.c::eval_phi" ref="d45c6f0daadfc640814fdecadd4eda50" args="(const int m, const int n, const double *z, const double *expz, const double *expmz, const double *w, const double *u, const double lambda, const double t)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="l1__logreg_8c.html#d45c6f0daadfc640814fdecadd4eda50">eval_phi</a> (const int m, const int n, const double *z, const double *expz, const double *expmz, const double *w, const double *u, const double lambda, const double t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Evaluates the phi function. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="35199f0f4a87ed8a2e575c58a437452d"></a><!-- doxytag: member="l1_logreg.c::afun" ref="35199f0f4a87ed8a2e575c58a437452d" args="(double *y, const double *x, const void *adata)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>afun</b> (double *y, const double *x, const void *adata)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0ec5ea797f1ff242172a7735bddf7eb1"></a><!-- doxytag: member="l1_logreg.c::mfun" ref="0ec5ea797f1ff242172a7735bddf7eb1" args="(double *y, const double *x, const void *mdata)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>mfun</b> (double *y, const double *x, const void *mdata)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5e1cf63d713f35a283206a4b134b3668"></a><!-- doxytag: member="l1_logreg.c::is_indomain" ref="5e1cf63d713f35a283206a4b134b3668" args="(double *w, double *u, int n)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>is_indomain</b> (double *w, double *u, int n)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="l1__logreg_8c.html#5442d23a3033226391d6f4454a5f636b">optimize_intercept</a> (double *v, double *z, double *expz, double *expmz, double *z2, const double *b, const double *Aw, const int m)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Optimize intercept v.  <a href="#5442d23a3033226391d6f4454a5f636b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="l1__logreg_8c.html#cc8db2f678715082057345e494c8100f">compute_searchdir_pcg</a> (problem_data_t *pdat, variables_t *vars, double t, double s, double gap, <a class="el" href="structpcg__status__t.html">pcg_status_t</a> *pcgstat, adata_t *adata, mdata_t *mdata, double *precond, double *tmp_m1, double *A2h, double *tmp_x1)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute search direction using pcg method.  <a href="#cc8db2f678715082057345e494c8100f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="l1__logreg_8c.html#671716935a42cc8c1d021babfd3668ab">compute_searchdir_chol_fat</a> (problem_data_t *pdat, variables_t *vars, double t, <a class="el" href="structdmatrix.html">dmatrix</a> *B, <a class="el" href="structdmatrix.html">dmatrix</a> *BB, double *tm1, double *bDA, double *d3inv, double *tmp31, double *tmp32)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute search direction using cholesky method (m &lt; n).  <a href="#671716935a42cc8c1d021babfd3668ab"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="l1__logreg_8c.html#6f4a8b4b0645b299d0bed5f2fbeab637">compute_searchdir_chol_thin</a> (problem_data_t *pdat, variables_t *vars, double t, <a class="el" href="structdmatrix.html">dmatrix</a> *B, <a class="el" href="structdmatrix.html">dmatrix</a> *BB, double *tm1, double *bDA, double *d3)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compute search direction using cholesky method (m &gt; n).  <a href="#6f4a8b4b0645b299d0bed5f2fbeab637"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="l1__logreg_8c.html#6d679a601164f66795f4e8a904935096">backtracking_linesearch</a> (problem_data_t *pdat, variables_t *vars, double t, double *Adw, double *xnew)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform backtraking linesearch.  <a href="#6d679a601164f66795f4e8a904935096"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8e6c7624b89b90c506e408fc95a4df83"></a><!-- doxytag: member="l1_logreg.c::backtracking_linesearch_deprecated" ref="8e6c7624b89b90c506e408fc95a4df83" args="(problem_data_t *pdat, variables_t *vars, double t, double *Adw, double *xnew)" -->
double&nbsp;</td><td class="memItemRight" valign="bottom"><b>backtracking_linesearch_deprecated</b> (problem_data_t *pdat, variables_t *vars, double t, double *Adw, double *xnew)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bcf9c9391bae8568f0d4db9556d0c002"></a><!-- doxytag: member="l1_logreg.c::progress_pcg_v3" ref="bcf9c9391bae8568f0d4db9556d0c002" args="(char *form, int in0, double in1, double in2, double in3, double in4, double in5, int in6, double in7, int in8)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>progress_pcg_v3</b> (char *form, int in0, double in1, double in2, double in3, double in4, double in5, int in6, double in7, int in8)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a971da521276f89a0055e35fe25df49a"></a><!-- doxytag: member="l1_logreg.c::progress_pcg_v2" ref="a971da521276f89a0055e35fe25df49a" args="(char *form, int in0, double in1, double in2, double in3, double in4, double in5, int in6, double in7, int in8)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>progress_pcg_v2</b> (char *form, int in0, double in1, double in2, double in3, double in4, double in5, int in6, double in7, int in8)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d01efebda0500c93595cd4d1a68450f4"></a><!-- doxytag: member="l1_logreg.c::progress_pcg_v0" ref="d01efebda0500c93595cd4d1a68450f4" args="(char *form, int in0, double in1, double in2, double in3, double in4, double in5, int in6, double in7, int in8)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>progress_pcg_v0</b> (char *form, int in0, double in1, double in2, double in3, double in4, double in5, int in6, double in7, int in8)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ff62652c4de14b3443d0363268c37945"></a><!-- doxytag: member="l1_logreg.c::progress_dir_v3" ref="ff62652c4de14b3443d0363268c37945" args="(char *form, int in0, double in1, double in2, double in3, double in4, double in5, int in6, double in7, int in8)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>progress_dir_v3</b> (char *form, int in0, double in1, double in2, double in3, double in4, double in5, int in6, double in7, int in8)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="50b63f8301af39251001c1819dc37ff1"></a><!-- doxytag: member="l1_logreg.c::progress_dir_v2" ref="50b63f8301af39251001c1819dc37ff1" args="(char *form, int in0, double in1, double in2, double in3, double in4, double in5, int in6, double in7, int in8)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>progress_dir_v2</b> (char *form, int in0, double in1, double in2, double in3, double in4, double in5, int in6, double in7, int in8)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ef5a1f1d0a4afe1f4df9595074d2d206"></a><!-- doxytag: member="l1_logreg.c::progress_dir_v0" ref="ef5a1f1d0a4afe1f4df9595074d2d206" args="(char *form, int in0, double in1, double in2, double in3, double in4, double in5, int in6, double in7, int in8)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>progress_dir_v0</b> (char *form, int in0, double in1, double in2, double in3, double in4, double in5, int in6, double in7, int in8)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5eda04ca26a3248c16c5eafa3ff2fd5e"></a><!-- doxytag: member="l1_logreg.c::init_progress" ref="5eda04ca26a3248c16c5eafa3ff2fd5e" args="(const int is_pcg, const int verbose_level, char *format_buf, p2func_progress *print_progress)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>init_progress</b> (const int is_pcg, const int verbose_level, char *format_buf, p2func_progress *print_progress)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="l1__logreg_8c.html#5c3f039a8832e885740df084a19c23f3">l1_logreg_train</a> (<a class="el" href="structdmatrix.html">dmatrix</a> *X, double *b, double lambda, train_opts to, double *initial_x, double *initial_t, double *sol, int *total_ntiter, int *total_pcgiter)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Train (learn a model).  <a href="#5c3f039a8832e885740df084a19c23f3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="l1__logreg_8c.html#e42f2d2b2a7126e676953471552bcc06">l1_logreg_classify</a> (<a class="el" href="structdmatrix.html">dmatrix</a> *X, double *b, double *sol, int pflag, double *result, int *error_count)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Classify data.  <a href="#e42f2d2b2a7126e676953471552bcc06"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>prt</b> []</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>prn</b> []</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Main source file for l_1-regularized logistic regression problem solver. 
<p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="6d679a601164f66795f4e8a904935096"></a><!-- doxytag: member="l1_logreg.c::backtracking_linesearch" ref="6d679a601164f66795f4e8a904935096" args="(problem_data_t *pdat, variables_t *vars, double t, double *Adw, double *xnew)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double backtracking_linesearch           </td>
          <td>(</td>
          <td class="paramtype">problem_data_t *&nbsp;</td>
          <td class="paramname"> <em>pdat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">variables_t *&nbsp;</td>
          <td class="paramname"> <em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>Adw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>xnew</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Perform backtraking linesearch. 
<p>

<p>References <a class="el" href="dmatrix_8c-source.html#l00099">dmat_dot()</a>, <a class="el" href="dmatrix_8c-source.html#l00134">dmat_vcopy()</a>, <a class="el" href="dmatrix_8c-source.html#l00239">dmat_waxpby()</a>, <a class="el" href="dmatrix_8c-source.html#l00469">dmat_yAmpqx()</a>, <a class="el" href="dmatrix_8c-source.html#l00153">dmat_yexpx()</a>, <a class="el" href="dmatrix_8c-source.html#l00205">dmat_yinvx()</a>, <a class="el" href="l1__logreg_8c-source.html#l00426">eval_phi()</a>, <a class="el" href="dmatrix_8h-source.html#l00030">dmatrix::m</a>, and <a class="el" href="dmatrix_8h-source.html#l00031">dmatrix::n</a>.</p>

<p>Referenced by <a class="el" href="l1__logreg_8c-source.html#l01072">l1_logreg_train()</a>.</p>

</div>
</div><p>
<a class="anchor" name="671716935a42cc8c1d021babfd3668ab"></a><!-- doxytag: member="l1_logreg.c::compute_searchdir_chol_fat" ref="671716935a42cc8c1d021babfd3668ab" args="(problem_data_t *pdat, variables_t *vars, double t, dmatrix *B, dmatrix *BB, double *tm1, double *bDA, double *d3inv, double *tmp31, double *tmp32)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compute_searchdir_chol_fat           </td>
          <td>(</td>
          <td class="paramtype">problem_data_t *&nbsp;</td>
          <td class="paramname"> <em>pdat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">variables_t *&nbsp;</td>
          <td class="paramname"> <em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdmatrix.html">dmatrix</a> *&nbsp;</td>
          <td class="paramname"> <em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdmatrix.html">dmatrix</a> *&nbsp;</td>
          <td class="paramname"> <em>BB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>tm1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>bDA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>d3inv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>tmp31</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>tmp32</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compute search direction using cholesky method (m &lt; n). 
<p>

<p>References <a class="el" href="dmatrix_8c-source.html#l01472">dmat_B_AAT()</a>, <a class="el" href="dmatrix_8c-source.html#l01244">dmat_copy()</a>, <a class="el" href="dmatrix_8c-source.html#l01035">dmat_diagadd()</a>, <a class="el" href="dmatrix_8c-source.html#l00891">dmat_diagscale()</a>, <a class="el" href="dmatrix_8c-source.html#l00099">dmat_dot()</a>, <a class="el" href="dmatrix_8c-source.html#l00328">dmat_elemprod()</a>, <a class="el" href="dmatrix_8c-source.html#l01563">dmat_posv()</a>, <a class="el" href="dmatrix_8c-source.html#l01537">dmat_potrs()</a>, <a class="el" href="dmatrix_8c-source.html#l00239">dmat_waxpby()</a>, <a class="el" href="dmatrix_8c-source.html#l00420">dmat_yATx()</a>, <a class="el" href="dmatrix_8c-source.html#l00371">dmat_yAx()</a>, <a class="el" href="dmatrix_8c-source.html#l00205">dmat_yinvx()</a>, <a class="el" href="dmatrix_8h-source.html#l00030">dmatrix::m</a>, and <a class="el" href="dmatrix_8h-source.html#l00031">dmatrix::n</a>.</p>

<p>Referenced by <a class="el" href="l1__logreg_8c-source.html#l01072">l1_logreg_train()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6f4a8b4b0645b299d0bed5f2fbeab637"></a><!-- doxytag: member="l1_logreg.c::compute_searchdir_chol_thin" ref="6f4a8b4b0645b299d0bed5f2fbeab637" args="(problem_data_t *pdat, variables_t *vars, double t, dmatrix *B, dmatrix *BB, double *tm1, double *bDA, double *d3)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compute_searchdir_chol_thin           </td>
          <td>(</td>
          <td class="paramtype">problem_data_t *&nbsp;</td>
          <td class="paramname"> <em>pdat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">variables_t *&nbsp;</td>
          <td class="paramname"> <em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdmatrix.html">dmatrix</a> *&nbsp;</td>
          <td class="paramname"> <em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdmatrix.html">dmatrix</a> *&nbsp;</td>
          <td class="paramname"> <em>BB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>tm1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>bDA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>d3</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compute search direction using cholesky method (m &gt; n). 
<p>

<p>References <a class="el" href="dmatrix_8c-source.html#l01515">dmat_A_axxTpA()</a>, <a class="el" href="dmatrix_8c-source.html#l01493">dmat_B_ATA()</a>, <a class="el" href="dmatrix_8c-source.html#l01244">dmat_copy()</a>, <a class="el" href="dmatrix_8c-source.html#l01035">dmat_diagadd()</a>, <a class="el" href="dmatrix_8c-source.html#l00891">dmat_diagscale()</a>, <a class="el" href="dmatrix_8c-source.html#l00099">dmat_dot()</a>, <a class="el" href="dmatrix_8c-source.html#l01563">dmat_posv()</a>, <a class="el" href="dmatrix_8c-source.html#l00420">dmat_yATx()</a>, <a class="el" href="dmatrix_8c-source.html#l00181">dmat_ysqrtx()</a>, <a class="el" href="dmatrix_8h-source.html#l00030">dmatrix::m</a>, and <a class="el" href="dmatrix_8h-source.html#l00031">dmatrix::n</a>.</p>

<p>Referenced by <a class="el" href="l1__logreg_8c-source.html#l01072">l1_logreg_train()</a>.</p>

</div>
</div><p>
<a class="anchor" name="cc8db2f678715082057345e494c8100f"></a><!-- doxytag: member="l1_logreg.c::compute_searchdir_pcg" ref="cc8db2f678715082057345e494c8100f" args="(problem_data_t *pdat, variables_t *vars, double t, double s, double gap, pcg_status_t *pcgstat, adata_t *adata, mdata_t *mdata, double *precond, double *tmp_m1, double *A2h, double *tmp_x1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void compute_searchdir_pcg           </td>
          <td>(</td>
          <td class="paramtype">problem_data_t *&nbsp;</td>
          <td class="paramname"> <em>pdat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">variables_t *&nbsp;</td>
          <td class="paramname"> <em>vars</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>gap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structpcg__status__t.html">pcg_status_t</a> *&nbsp;</td>
          <td class="paramname"> <em>pcgstat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">adata_t *&nbsp;</td>
          <td class="paramname"> <em>adata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mdata_t *&nbsp;</td>
          <td class="paramname"> <em>mdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>precond</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>tmp_m1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>A2h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>tmp_x1</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compute search direction using pcg method. 
<p>

<p>References <a class="el" href="dmatrix_8c-source.html#l00328">dmat_elemprod()</a>, <a class="el" href="dmatrix_8c-source.html#l00070">dmat_norm2()</a>, <a class="el" href="dmatrix_8c-source.html#l00113">dmat_vset()</a>, <a class="el" href="dmatrix_8c-source.html#l00239">dmat_waxpby()</a>, <a class="el" href="dmatrix_8c-source.html#l00529">dmat_yAmpqTx()</a>, <a class="el" href="dmatrix_8c-source.html#l00420">dmat_yATx()</a>, <a class="el" href="dmatrix_8h-source.html#l00030">dmatrix::m</a>, <a class="el" href="dmatrix_8h-source.html#l00031">dmatrix::n</a>, <a class="el" href="dmatrix_8h-source.html#l00032">dmatrix::nz</a>, and <a class="el" href="pcg_8c-source.html#l00066">pcg()</a>.</p>

<p>Referenced by <a class="el" href="l1__logreg_8c-source.html#l01072">l1_logreg_train()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e42f2d2b2a7126e676953471552bcc06"></a><!-- doxytag: member="l1_logreg.c::l1_logreg_classify" ref="e42f2d2b2a7126e676953471552bcc06" args="(dmatrix *X, double *b, double *sol, int pflag, double *result, int *error_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int l1_logreg_classify           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdmatrix.html">dmatrix</a> *&nbsp;</td>
          <td class="paramname"> <em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>sol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pflag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>error_count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Classify data. 
<p>
<img class="formulaInl" alt="$ \mbox{sign}\left( (X - 1\mu^T)\mbox{diag}(\sigma)^{-1}w +1v \right) = X\tilde{w} + 1(v-\mu^T\tilde{w}) $" src="form_74.png"><p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>X</em>&nbsp;</td><td>test data (feature matrix) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>test data (class vector) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sol</em>&nbsp;</td><td>model data (coefficients and intercept)<ul>
<li>sol[0] : intercept</li><li>sol[1..(n-1)] : coefficients -- <img class="formulaInl" alt="$ w./\sigma $" src="form_72.png"> when standardized -- <img class="formulaInl" alt="$ w $" src="form_73.png"> when not standardized </li></ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>test result vector </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>error_count</em>&nbsp;</td><td>numter of test error </td></tr>
  </table>
</dl>

<p>References <a class="el" href="dmatrix_8c-source.html#l00371">dmat_yAx()</a>, <a class="el" href="dmatrix_8h-source.html#l00030">dmatrix::m</a>, and <a class="el" href="dmatrix_8h-source.html#l00031">dmatrix::n</a>.</p>

<p>Referenced by <a class="el" href="classify_8c-source.html#l00247">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5c3f039a8832e885740df084a19c23f3"></a><!-- doxytag: member="l1_logreg.c::l1_logreg_train" ref="5c3f039a8832e885740df084a19c23f3" args="(dmatrix *X, double *b, double lambda, train_opts to, double *initial_x, double *initial_t, double *sol, int *total_ntiter, int *total_pcgiter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int l1_logreg_train           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdmatrix.html">dmatrix</a> *&nbsp;</td>
          <td class="paramname"> <em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>lambda</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">train_opts&nbsp;</td>
          <td class="paramname"> <em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>initial_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>initial_t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>sol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>total_ntiter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>total_pcgiter</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Train (learn a model). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>X</em>&nbsp;</td><td>train data (feature matrix) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>train data (class vector) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lambda</em>&nbsp;</td><td>regularization parameter </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sflag</em>&nbsp;</td><td>standardization flag </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cflag</em>&nbsp;</td><td>coefficients flag </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>verbose_level</em>&nbsp;</td><td>verbose level </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>tolerance</em>&nbsp;</td><td>duality gap (absolute) tolerance </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>initial_x</em>&nbsp;</td><td>initial primal point (v0, w0, u0) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>initial_t</em>&nbsp;</td><td>initial barrier parameter </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sol</em>&nbsp;</td><td>model data (coefficients and intercept)<ul>
<li>sol[0] : intercept</li><li>sol[1..(n-1)] : coefficients -- <img class="formulaInl" alt="$ w./\sigma $" src="form_72.png"> when standardized -- <img class="formulaInl" alt="$ w $" src="form_73.png"> when not standardized </li></ul>
</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>total_ntiter</em>&nbsp;</td><td>number of newton iterations </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>total_pcgiter</em>&nbsp;</td><td>number of pcg iterations </td></tr>
  </table>
</dl>

<p>References <a class="el" href="l1__logreg_8c-source.html#l00831">backtracking_linesearch()</a>, <a class="el" href="l1__logreg_8c-source.html#l00654">compute_searchdir_chol_fat()</a>, <a class="el" href="l1__logreg_8c-source.html#l00751">compute_searchdir_chol_thin()</a>, <a class="el" href="l1__logreg_8c-source.html#l00544">compute_searchdir_pcg()</a>, <a class="el" href="dmatrix_8c-source.html#l01244">dmat_copy()</a>, <a class="el" href="dmatrix_8c-source.html#l00891">dmat_diagscale()</a>, <a class="el" href="dmatrix_8c-source.html#l00099">dmat_dot()</a>, <a class="el" href="dmatrix_8c-source.html#l01208">dmat_duplicate()</a>, <a class="el" href="dmatrix_8c-source.html#l00840">dmat_elemAA()</a>, <a class="el" href="dmatrix_8c-source.html#l00345">dmat_elemdivi()</a>, <a class="el" href="dmatrix_8c-source.html#l01277">dmat_new_dense()</a>, <a class="el" href="dmatrix_8c-source.html#l00056">dmat_norm1()</a>, <a class="el" href="dmatrix_8c-source.html#l00084">dmat_norminf()</a>, <a class="el" href="dmatrix_8c-source.html#l00134">dmat_vcopy()</a>, <a class="el" href="dmatrix_8c-source.html#l00113">dmat_vset()</a>, <a class="el" href="dmatrix_8c-source.html#l00239">dmat_waxpby()</a>, <a class="el" href="dmatrix_8c-source.html#l00529">dmat_yAmpqTx()</a>, <a class="el" href="dmatrix_8c-source.html#l00469">dmat_yAmpqx()</a>, <a class="el" href="pcg_8h-source.html#l00016">pcg_status_t::flag</a>, <a class="el" href="l1__logreg_8c-source.html#l00390">fprimes()</a>, <a class="el" href="pcg_8c-source.html#l00032">init_pcg_status()</a>, <a class="el" href="pcg_8h-source.html#l00017">pcg_status_t::iter</a>, <a class="el" href="l1__logreg_8c-source.html#l00348">logistic_loss2()</a>, <a class="el" href="dmatrix_8h-source.html#l00030">dmatrix::m</a>, <a class="el" href="dmatrix_8h-source.html#l00031">dmatrix::n</a>, <a class="el" href="l1__logreg_8c-source.html#l00364">nentropy()</a>, <a class="el" href="dmatrix_8h-source.html#l00032">dmatrix::nz</a>, <a class="el" href="l1__logreg_8c-source.html#l00500">optimize_intercept()</a>, <a class="el" href="pcg_8h-source.html#l00018">pcg_status_t::relres</a>, <a class="el" href="util_8c-source.html#l00112">standardize_data()</a>, and <a class="el" href="dmatrix_8h-source.html#l00034">dmatrix::val</a>.</p>

</div>
</div><p>
<a class="anchor" name="5442d23a3033226391d6f4454a5f636b"></a><!-- doxytag: member="l1_logreg.c::optimize_intercept" ref="5442d23a3033226391d6f4454a5f636b" args="(double *v, double *z, double *expz, double *expmz, double *z2, const double *b, const double *Aw, const int m)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void optimize_intercept           </td>
          <td>(</td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>expz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>expmz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>z2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&nbsp;</td>
          <td class="paramname"> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&nbsp;</td>
          <td class="paramname"> <em>Aw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>m</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Optimize intercept v. 
<p>

<p>References <a class="el" href="dmatrix_8c-source.html#l00239">dmat_waxpby()</a>, <a class="el" href="dmatrix_8c-source.html#l00153">dmat_yexpx()</a>, <a class="el" href="dmatrix_8c-source.html#l00205">dmat_yinvx()</a>, <a class="el" href="l1__logreg_8c-source.html#l00407">gradient_hessian_over_v()</a>, <a class="el" href="l1__logreg_8c-source.html#l00332">logistic_loss()</a>, and <a class="el" href="l1__logreg_8c-source.html#l00348">logistic_loss2()</a>.</p>

<p>Referenced by <a class="el" href="l1__logreg_8c-source.html#l01072">l1_logreg_train()</a>.</p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="cceed635d4381f3c8fa004946103ca0e"></a><!-- doxytag: member="l1_logreg.c::prn" ref="cceed635d4381f3c8fa004946103ca0e" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* prn[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    <span class="stringliteral">"%10d    "</span>,
    <span class="stringliteral">"%14.4e"</span>,
    <span class="stringliteral">"%14.4e"</span>,
    <span class="stringliteral">"%14.4e"</span>,
    <span class="stringliteral">"%14.4e"</span>,
    <span class="stringliteral">"%14.4e"</span>,
    <span class="stringliteral">"%10d    "</span>,
    <span class="stringliteral">"%14.4e"</span>,
    <span class="stringliteral">"%10d    "</span>,
}
</pre></div>
</div>
</div><p>
<a class="anchor" name="21111e493b49e7944dfc96924b61c5ec"></a><!-- doxytag: member="l1_logreg.c::prt" ref="21111e493b49e7944dfc96924b61c5ec" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* prt[]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> {
    <span class="stringliteral">"    NT iter   "</span>,
    <span class="stringliteral">"       gap    "</span>,
    <span class="stringliteral">"    primal obj"</span>,
    <span class="stringliteral">"     dual obj "</span>,
    <span class="stringliteral">"     step size"</span>,
    <span class="stringliteral">"     t value  "</span>,
    <span class="stringliteral">"   pcg flag   "</span>,
    <span class="stringliteral">"    pcg relres"</span>,
    <span class="stringliteral">"   pcg iter   "</span>,
}
</pre></div>
</div>
</div><p>
</div>
<hr size="1"><address style="align: right;"><small>
Generated on Mon May 25 19:15:19 2009 for l1_logreg by Doxygen 1.5.5</small></address>
</body>
</html>
