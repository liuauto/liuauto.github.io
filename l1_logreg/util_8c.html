<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>l1_logreg: src_c/util.c File Reference</title>
<link href="stylesheet.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>src_c/util.c File Reference</h1>Source file for utility functions. <a href="#_details">More...</a>
<p>
<code>#include &lt;math.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<code>#include &lt;limits.h&gt;</code><br>
<code>#include &lt;float.h&gt;</code><br>
<code>#include &quot;mmio.h&quot;</code><br>
<code>#include &quot;<a class="el" href="def_8h-source.html">def.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="util_8h-source.html">util.h</a>&quot;</code><br>
<code>#include &quot;l1_logreg.h&quot;</code><br>
<code>#include &quot;<a class="el" href="dmatrix_8h-source.html">dmatrix.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#7e1a79c3adbbdc963142a2274cdb2eea">BIN_EXP_BEGIN</a>&nbsp;&nbsp;&nbsp;(-7)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Shows histogram of coefficients in 10-base logscale.  <a href="#7e1a79c3adbbdc963142a2274cdb2eea"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="52fa2347b41b63cc173227bc29316a40"></a><!-- doxytag: member="util.c::BIN_EXP_END" ref="52fa2347b41b63cc173227bc29316a40" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>BIN_EXP_END</b>&nbsp;&nbsp;&nbsp;(+2)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="984e3ddb7001445e5a1e5961464f7c5d"></a><!-- doxytag: member="util.c::BIN_NUM_PER_DECADE" ref="984e3ddb7001445e5a1e5961464f7c5d" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>BIN_NUM_PER_DECADE</b>&nbsp;&nbsp;&nbsp;(8)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="55b0fa4441c33ab9561d2efee7d6afa9"></a><!-- doxytag: member="util.c::BIN_IDX_NUM" ref="55b0fa4441c33ab9561d2efee7d6afa9" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>BIN_IDX_NUM</b>&nbsp;&nbsp;&nbsp;((BIN_EXP_END-BIN_EXP_BEGIN)*BIN_NUM_PER_DECADE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1f1679a7c0fa19e1e4b53b2be177d87b"></a><!-- doxytag: member="util.c::BIN_IDX_BEGIN" ref="1f1679a7c0fa19e1e4b53b2be177d87b" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>BIN_IDX_BEGIN</b>&nbsp;&nbsp;&nbsp;(0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b82b7f514dd68501a03ef5beba735c73"></a><!-- doxytag: member="util.c::BIN_IDX_END" ref="b82b7f514dd68501a03ef5beba735c73" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><b>BIN_IDX_END</b>&nbsp;&nbsp;&nbsp;(BIN_IDX_BEGIN+BIN_IDX_NUM-1)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#3595b92fa13245f4c36dcff8d53b12a3">find_lambdamax</a> (const <a class="el" href="structdmatrix.html">dmatrix</a> *X, const double *b, const int sflag)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the maximum value of the regularization parameter lambda that gives a non-zero solution.  <a href="#3595b92fa13245f4c36dcff8d53b12a3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#0b9769747fc910e676dc09040bab1843">standardize_data</a> (<a class="el" href="structdmatrix.html">dmatrix</a> *X, const double *b, double **average, double **stddev, double **acol, double **arow)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Standardizes the data.  <a href="#0b9769747fc910e676dc09040bab1843"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#bc06c975c505281c21e716176952b8fd">read_mm_new_matrix</a> (const char *file, <a class="el" href="structdmatrix.html">dmatrix</a> **out_mat)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a matrix file.  <a href="#bc06c975c505281c21e716176952b8fd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ceafc406f3ce8f353463dd744b6dab04"></a><!-- doxytag: member="util.c::read_mm_new_matrix_transpose" ref="ceafc406f3ce8f353463dd744b6dab04" args="(const char *file, dmatrix **out_mat)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>read_mm_new_matrix_transpose</b> (const char *file, <a class="el" href="structdmatrix.html">dmatrix</a> **out_mat)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#af6d1e232dc92593bb1eb41ed55dd5c3">read_mm_new_vector</a> (const char *file, double **out_vec)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a vector file.  <a href="#af6d1e232dc92593bb1eb41ed55dd5c3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="547f60b30b7b307694f26ef77c8ae2c3"></a><!-- doxytag: member="util.c::write_mm_vector" ref="547f60b30b7b307694f26ef77c8ae2c3" args="(const char *file, const int m, const double *vec, const char *comments, const int type)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>write_mm_vector</b> (const char *file, const int m, const double *vec, const char *comments, const int type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4e0bcac9d7d245ecd4873ee34dc32b89"></a><!-- doxytag: member="util.c::write_mm_matrix" ref="4e0bcac9d7d245ecd4873ee34dc32b89" args="(const char *file, dmatrix *mat, const char *comments, const int type)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>write_mm_matrix</b> (const char *file, <a class="el" href="structdmatrix.html">dmatrix</a> *mat, const char *comments, const int type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b1275ca2159269de283f30db2393f8d1"></a><!-- doxytag: member="util.c::write_mm_matrix_crd_header" ref="b1275ca2159269de283f30db2393f8d1" args="(FILE *fp, const int m, const int n, const int nnz, const char *comments)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>write_mm_matrix_crd_header</b> (FILE *fp, const int m, const int n, const int nnz, const char *comments)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="61663eb33340a7d710f039a90211aea5"></a><!-- doxytag: member="util.c::write_mm_matrix_crd_column" ref="61663eb33340a7d710f039a90211aea5" args="(FILE *fp, const int len, const int col, const double *vec)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>write_mm_matrix_crd_column</b> (FILE *fp, const int len, const int col, const double *vec)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="714e243b70b5c7069f38a529b6273c26"></a><!-- doxytag: member="util.c::write_mm_matrix_crd_column_threshold" ref="714e243b70b5c7069f38a529b6273c26" args="(FILE *fp, const int len, const int col, const double *vec, const double threshold)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>write_mm_matrix_crd_column_threshold</b> (FILE *fp, const int len, const int col, const double *vec, const double threshold)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9a59d8e1fdf07ee1829087469fd7b915"></a><!-- doxytag: member="util.c::get_mm_info" ref="9a59d8e1fdf07ee1829087469fd7b915" args="(const char *file, int *m, int *n, int *nz)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>get_mm_info</b> (const char *file, int *m, int *n, int *nz)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6d1c8194e4736dc0f01991e6d034ecc4"></a><!-- doxytag: member="util.c::show_histogram" ref="6d1c8194e4736dc0f01991e6d034ecc4" args="(const int n, const double *coeff)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>show_histogram</b> (const int n, const double *coeff)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#b451ae27391a6af74adeee7ac63948ef">userinput_threshold</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets a threshold value from standard input.  <a href="#b451ae27391a6af74adeee7ac63948ef"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#036edca8881cfbda59fe4f43545a2e79">thresholding</a> (const int n, double *coeff, double threshold)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Thresholds coefficients.  <a href="#036edca8881cfbda59fe4f43545a2e79"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="49921107517664bb90606f0127346923"></a><!-- doxytag: member="util.c::buffer_new" ref="49921107517664bb90606f0127346923" args="(buffer_t **buf, int elemsize, int length)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>buffer_new</b> (buffer_t **buf, int elemsize, int length)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f328f2180d69b291792e615863c3eafe"></a><!-- doxytag: member="util.c::buffer_free" ref="f328f2180d69b291792e615863c3eafe" args="(buffer_t *buf)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>buffer_free</b> (buffer_t *buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7376b60edc92c78f1fcb62e53df4e0ad"></a><!-- doxytag: member="util.c::buffer_write" ref="7376b60edc92c78f1fcb62e53df4e0ad" args="(buffer_t *buf, void *src, int n)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>buffer_write</b> (buffer_t *buf, void *src, int n)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="util_8c.html#99d12c3b55959ee6655fccd203f8614d">condense_solution</a> (const int len, double *sol, int *idx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Condense solution by removing zeros.  <a href="#99d12c3b55959ee6655fccd203f8614d"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Source file for utility functions. 
<p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="7e1a79c3adbbdc963142a2274cdb2eea"></a><!-- doxytag: member="util.c::BIN_EXP_BEGIN" ref="7e1a79c3adbbdc963142a2274cdb2eea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BIN_EXP_BEGIN&nbsp;&nbsp;&nbsp;(-7)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Shows histogram of coefficients in 10-base logscale. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>number of coefficients </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coeff</em>&nbsp;</td><td>vector of coefficients </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="99d12c3b55959ee6655fccd203f8614d"></a><!-- doxytag: member="util.c::condense_solution" ref="99d12c3b55959ee6655fccd203f8614d" args="(const int len, double *sol, int *idx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int condense_solution           </td>
          <td>(</td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>sol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>idx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Condense solution by removing zeros. 
<p>
Truncates coefficients if their absolute values are below the threshold.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>size of the original solution vector </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sol</em>&nbsp;</td><td>solution vector </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>idx</em>&nbsp;</td><td>array of non-zero index in solution</td></tr>
  </table>
</dl>
ex: initial sol: [1 0 0 6 0 0 0 7 1] final sol: [1 6 7 1] idx: [1 4 8 9] 
</div>
</div><p>
<a class="anchor" name="3595b92fa13245f4c36dcff8d53b12a3"></a><!-- doxytag: member="util.c::find_lambdamax" ref="3595b92fa13245f4c36dcff8d53b12a3" args="(const dmatrix *X, const double *b, const int sflag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double find_lambdamax           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdmatrix.html">dmatrix</a> *&nbsp;</td>
          <td class="paramname"> <em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&nbsp;</td>
          <td class="paramname"> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>sflag</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the maximum value of the regularization parameter lambda that gives a non-zero solution. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>X</em>&nbsp;</td><td>feature matrix </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>class vector </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sflag</em>&nbsp;</td><td>standardization flag<ul>
<li>If sflag is 0, compute the maximum value of lambda without standardization.</li><li>If sflag is 1, given matrix is standardized first and then the maximum value of lambda is computed.</li></ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>maximum value of lambda </dd></dl>

<p>References <a class="el" href="dmatrix_8c-source.html#l01244">dmat_copy()</a>, <a class="el" href="dmatrix_8c-source.html#l00891">dmat_diagscale()</a>, <a class="el" href="dmatrix_8c-source.html#l01208">dmat_duplicate()</a>, <a class="el" href="dmatrix_8c-source.html#l01295">dmat_free()</a>, <a class="el" href="dmatrix_8c-source.html#l00084">dmat_norminf()</a>, <a class="el" href="dmatrix_8c-source.html#l00529">dmat_yAmpqTx()</a>, <a class="el" href="dmatrix_8h-source.html#l00030">dmatrix::m</a>, <a class="el" href="dmatrix_8h-source.html#l00031">dmatrix::n</a>, and <a class="el" href="util_8c-source.html#l00112">standardize_data()</a>.</p>

</div>
</div><p>
<a class="anchor" name="bc06c975c505281c21e716176952b8fd"></a><!-- doxytag: member="util.c::read_mm_new_matrix" ref="bc06c975c505281c21e716176952b8fd" args="(const char *file, dmatrix **out_mat)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_mm_new_matrix           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdmatrix.html">dmatrix</a> **&nbsp;</td>
          <td class="paramname"> <em>out_mat</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a matrix file. 
<p>
Reads a Matrix Market formatted matrix from a file.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>matrix file name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out_mat</em>&nbsp;</td><td>matrix data</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>result </dd></dl>

<p>References <a class="el" href="dmatrix_8h-source.html#l00039">dmatrix::idx</a>, <a class="el" href="dmatrix_8h-source.html#l00038">dmatrix::jdx</a>, <a class="el" href="dmatrix_8h-source.html#l00030">dmatrix::m</a>, <a class="el" href="dmatrix_8h-source.html#l00031">dmatrix::n</a>, <a class="el" href="dmatrix_8h-source.html#l00032">dmatrix::nz</a>, <a class="el" href="dmatrix_8h-source.html#l00040">dmatrix::rdx</a>, and <a class="el" href="dmatrix_8h-source.html#l00034">dmatrix::val</a>.</p>

<p>Referenced by <a class="el" href="classify_8c-source.html#l00247">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="af6d1e232dc92593bb1eb41ed55dd5c3"></a><!-- doxytag: member="util.c::read_mm_new_vector" ref="af6d1e232dc92593bb1eb41ed55dd5c3" args="(const char *file, double **out_vec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_mm_new_vector           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double **&nbsp;</td>
          <td class="paramname"> <em>out_vec</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read a vector file. 
<p>
Reads a Matrix Market formatted vector from a file. Returns pointer to dense vector.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>vector file name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out_vec</em>&nbsp;</td><td>vector data</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>result </dd></dl>

<p>Referenced by <a class="el" href="classify_8c-source.html#l00247">main()</a>.</p>

</div>
</div><p>
<a class="anchor" name="0b9769747fc910e676dc09040bab1843"></a><!-- doxytag: member="util.c::standardize_data" ref="0b9769747fc910e676dc09040bab1843" args="(dmatrix *X, const double *b, double **average, double **stddev, double **acol, double **arow)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void standardize_data           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdmatrix.html">dmatrix</a> *&nbsp;</td>
          <td class="paramname"> <em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double *&nbsp;</td>
          <td class="paramname"> <em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double **&nbsp;</td>
          <td class="paramname"> <em>average</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double **&nbsp;</td>
          <td class="paramname"> <em>stddev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double **&nbsp;</td>
          <td class="paramname"> <em>acol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double **&nbsp;</td>
          <td class="paramname"> <em>arow</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Standardizes the data. 
<p>
Standardizes the feature matrix.<br>
<ul>
<li>If b is not given, compute <img class="formulaInl" alt="$ X := (X-1^T\mu)\mbox{diag}(\sigma)^{-1} $" src="form_75.png"></li><li>If b is given, compute <img class="formulaInl" alt="$ X := \mbox{diag}(b)(X-1^T\mu)\mbox{diag}(\sigma)^{-1} $" src="form_76.png"> where <img class="formulaInl" alt="$ \mu $" src="form_77.png"> is column average and <img class="formulaInl" alt="$ \sigma $" src="form_78.png"> is column deviation.</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>X</em>&nbsp;</td><td>feature matrix </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>class vector </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>average</em>&nbsp;</td><td>column average </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stddev</em>&nbsp;</td><td>column standard deviation </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>acol</em>&nbsp;</td><td>column vector used for implicit standardization </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>arow</em>&nbsp;</td><td>row vector used for implicit standardization </td></tr>
  </table>
</dl>

<p>References <a class="el" href="dmatrix_8c-source.html#l01105">dmat_colavg()</a>, <a class="el" href="dmatrix_8c-source.html#l01150">dmat_colstd()</a>, <a class="el" href="dmatrix_8c-source.html#l00891">dmat_diagscale()</a>, <a class="el" href="dmatrix_8c-source.html#l00345">dmat_elemdivi()</a>, <a class="el" href="dmatrix_8c-source.html#l00134">dmat_vcopy()</a>, <a class="el" href="dmatrix_8c-source.html#l00113">dmat_vset()</a>, <a class="el" href="dmatrix_8h-source.html#l00030">dmatrix::m</a>, <a class="el" href="dmatrix_8h-source.html#l00031">dmatrix::n</a>, <a class="el" href="dmatrix_8h-source.html#l00032">dmatrix::nz</a>, and <a class="el" href="dmatrix_8h-source.html#l00034">dmatrix::val</a>.</p>

<p>Referenced by <a class="el" href="util_8c-source.html#l00037">find_lambdamax()</a>, and <a class="el" href="l1__logreg_8c-source.html#l01072">l1_logreg_train()</a>.</p>

</div>
</div><p>
<a class="anchor" name="036edca8881cfbda59fe4f43545a2e79"></a><!-- doxytag: member="util.c::thresholding" ref="036edca8881cfbda59fe4f43545a2e79" args="(const int n, double *coeff, double threshold)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int thresholding           </td>
          <td>(</td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&nbsp;</td>
          <td class="paramname"> <em>coeff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>threshold</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Thresholds coefficients. 
<p>
Truncates coefficients if their absolute values are below the threshold.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>n</em>&nbsp;</td><td>number of coefficients </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coeff</em>&nbsp;</td><td>vector of coefficients </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>threshold</em>&nbsp;</td><td>threshold value </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b451ae27391a6af74adeee7ac63948ef"></a><!-- doxytag: member="util.c::userinput_threshold" ref="b451ae27391a6af74adeee7ac63948ef" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double userinput_threshold           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets a threshold value from standard input. 
<p>
<ul>
<li>If input value is positive, return it.</li><li>If input value is negative, assume it as a 10-based log value. For example, -3 is converted to 10^(-3).</li></ul>
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>threshold value </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="align: right;"><small>
Generated on Mon May 25 19:15:19 2009 for l1_logreg by Doxygen 1.5.5</small></address>
</body>
</html>
